<template>
  <main class="min-h-screen bg-white dark:bg-black">
    <div
      class="flex flex-col font-mono text-black bg-gray-200 app-container dark:text-white dark:bg-gray-900 md:h-screen md:grid"
      :class="[{ two: subnav === false, three: subnav === true }]"
    >
      <div v-if="nav" class="p-4 leading-tight bg-white app-nav dark:bg-black">
        <slot name="nav">
          <Nav />
        </slot>
      </div>
      <div
        v-if="subnav"
        class="p-4 leading-tight bg-white app-subnav dark:bg-black"
      >
        <slot name="subnav"></slot>
      </div>
      <slot></slot>
      <div
        v-if="header"
        class="flex items-center justify-between pl-4 pr-4 tracking-wider text-gray-500 bg-white app-header dark:text-gray-400 dark:bg-black"
      >
        <slot name="header">
          <p>natebutler</p>
        </slot>
        <div class="flex text-gray-400 theme-picker dark:text-gray-700">
          <!-- https://nuxtjs.org/tutorials/going-dark-with-nuxtjs-color-mode/ -->
          <button
            class="w-8 h-full pl-2 pr-2 rounded theme-button dark"
            @click="$colorMode.preference = 'dark'"
            :class="{
              'active text-black dark:text-white':
                $colorMode.preference === 'dark',
            }"
          >
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="fill-current"
            >
              <path
                d="M10.8458 13.3204C9.76357 13.524 8.66526 13.2425 7.82319 12.5452C6.97771 11.8457 6.49253 10.8146 6.49253 9.71632C6.49253 8.40067 7.20358 7.17543 8.34147 6.52512C8.74783 6.29802 8.95971 5.85672 8.88431 5.39815C8.80891 4.94061 8.4643 4.59259 7.9798 4.5107C6.08617 4.14903 4.1243 4.66424 2.62509 5.91301C1.12588 7.16179 0.265381 8.99742 0.265381 10.9491C0.265381 14.5623 3.2 17.5 6.8095 17.5C8.79492 17.5 10.6514 16.6102 11.8899 15.0761C12.1831 14.722 12.2181 14.2235 11.9814 13.8291C11.7466 13.4364 11.2894 13.2316 10.8458 13.3204ZM6.8095 15.8623C4.10383 15.8623 1.90312 13.6581 1.90312 10.9491C1.90312 9.48499 2.54832 8.1086 3.67324 7.17202C4.43342 6.53979 5.3526 6.15902 6.31443 6.06212C5.39354 7.03896 4.85445 8.34232 4.85445 9.71734C4.85445 11.3049 5.55595 12.7966 6.77914 13.8083C7.59152 14.4811 8.57041 14.8861 9.59502 14.9949C8.78843 15.5552 7.81944 15.8623 6.8095 15.8623ZM10.0918 2.18375L10.5156 3.19983C10.5364 3.24163 10.591 3.27554 10.6376 3.27554C10.6843 3.27554 10.7389 3.24162 10.7597 3.19983L11.1834 2.18375L12.1998 1.75999C12.2413 1.76988 12.2754 1.71495 12.2754 1.63784C12.2754 1.59127 12.2416 1.53661 12.2 1.51583L11.1836 1.09206L10.7598 0.075643C10.739 0.0337783 10.6845 0 10.6378 0C10.5912 0 10.5365 0.0337851 10.5157 0.075643L10.092 1.09206L9.07504 1.5464C9.03352 1.56719 8.99967 1.62184 8.99967 1.66841C8.99967 1.71478 9.03352 1.76978 9.07504 1.79056L10.0918 2.18375ZM17.5844 7.43133L15.5509 6.58176L14.702 4.54721C14.657 4.45952 14.5615 4.3674 14.4591 4.3674C14.3567 4.3674 14.2629 4.42711 14.216 4.51667L13.3673 6.58176L11.3327 7.43065C11.245 7.4791 11.1836 7.57122 11.1836 7.67358C11.1836 7.77594 11.2433 7.86977 11.3329 7.91668L13.3673 8.7654L14.2162 10.8C14.2646 10.8911 14.3567 10.9491 14.4591 10.9491C14.5615 10.9491 14.6553 10.8893 14.7022 10.7998L15.5509 8.7654L17.5855 7.91651C17.6766 7.87147 17.7346 7.77594 17.7346 7.67358C17.7346 7.57122 17.6766 7.4791 17.5844 7.43133Z"
                fill="inherit"
              />
            </svg>
          </button>
          <button
            class="w-8 h-full pl-2 pr-2 rounded theme-button light"
            @click="$colorMode.preference = 'light'"
            :class="{
              'active text-black dark:text-white':
                $colorMode.preference === 'light',
            }"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="fill-current"
            >
              <path
                d="M10.9106 14.5993L10.5251 16.7403L8.25005 15.1626L5.97504 16.7403L5.48284 14.016L2.75911 13.5238L4.33713 11.225L2.7602 8.97462L5.48394 8.48243L5.97613 5.75815L8.25005 7.33671L10.5237 5.7576L11.0164 8.4827L11.8045 8.62508C12.2614 8.18164 12.852 7.84531 13.5001 7.74961L12.146 7.35367L11.7389 5.10025C11.6765 4.75243 11.4446 4.4645 11.1184 4.3286C10.7911 4.19363 10.4234 4.23295 10.1308 4.43371L8.25005 5.73955L6.36879 4.43303C6.07621 4.23313 5.7098 4.19382 5.38167 4.32877C5.05573 4.46469 4.82385 4.7526 4.76096 5.09959L4.35381 7.35383L2.10176 7.76054C1.75367 7.82344 1.46476 8.05586 1.32929 8.38399C1.19391 8.71047 1.23359 9.07962 1.43525 9.37001L2.74038 11.2507L1.43471 13.1323C1.23348 13.4227 1.19422 13.7918 1.3296 14.1183C1.46547 14.4448 1.75397 14.6772 2.10124 14.7395L4.35411 15.1464L4.76126 17.3998C4.82407 17.7477 5.05603 18.0356 5.38197 18.1715C5.70873 18.3056 6.0776 18.268 6.36882 18.0664L8.25005 16.7594L10.1321 18.0659C10.3091 18.1868 10.5141 18.2497 10.7192 18.2497C10.8534 18.2497 10.9888 18.2232 11.1173 18.1702C11.4433 18.0344 11.6752 17.7464 11.7381 17.3994L12.2237 14.7487L11.7501 14.7251C11.4548 14.7251 11.1759 14.6895 10.9106 14.5993ZM8.25005 9.49962C8.90795 9.49962 9.47561 9.86904 9.77421 10.4074C10.0641 10.0744 10.4351 9.81763 10.8578 9.66341C10.32 8.78048 9.35748 8.18711 8.25005 8.18711C6.55883 8.18711 5.21214 9.55814 5.21214 11.225C5.21214 12.9163 6.58344 14.2629 8.25005 14.2629C8.82127 14.2629 9.34956 14.0963 9.80729 13.8241C9.51499 13.4998 9.30061 13.1063 9.19834 12.6671C8.92545 12.893 8.60006 12.975 8.25005 12.975C7.28536 12.975 6.50031 12.19 6.50031 11.2253C6.50031 10.2606 7.28481 9.49962 8.25005 9.49962ZM17.0001 10.35C16.672 10.35 16.3679 10.4457 16.1046 10.603C16.0103 9.50509 15.0833 8.6 13.9376 8.6C12.878 8.6 11.9926 9.35552 11.7944 10.3569C11.7807 10.3569 11.767 10.35 11.7499 10.35C10.7861 10.35 9.99993 11.1362 9.99993 12.1C9.99993 13.0639 10.7861 13.85 11.7499 13.85H17C17.9639 13.85 18.75 13.0639 18.75 12.1C18.75 11.1362 17.9654 10.35 17.0001 10.35Z"
                fill="inherit"
              />
            </svg>
          </button>
          <button
            class="w-8 h-full pl-2 pr-2 rounded theme-button system"
            @click="$colorMode.preference = 'system'"
            :class="{
              'active text-black dark:text-white':
                $colorMode.preference === 'system',
            }"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="fill-current"
            >
              <path
                d="M15.1432 8.125C15.4031 8.125 15.5856 7.91614 15.5856 7.65625V6.65723L17.1673 4.90293C17.5739 4.45615 17.5555 3.775 17.1307 3.34639L16.6107 2.83018C16.1859 2.40537 15.5048 2.39072 15.0583 2.78989L7.1217 10H5.79456C5.53455 10 5.35217 10.2087 5.35217 10.4688V11.6187L3.05266 13.6952C2.74153 13.9809 2.5511 14.3872 2.53997 14.8085C2.52883 15.2298 2.69744 15.647 2.99407 15.9438L4.09622 17.0462C4.3593 17.3359 4.75832 17.5 5.16848 17.5C5.81653 17.5 6.20852 17.108 6.31838 16.9873L14.3112 8.125H15.1432ZM5.27483 16.0469C5.24919 16.0725 5.15032 16.1421 5.06243 16.0505L3.96379 14.9512C3.8759 14.8633 3.94182 14.7644 3.96746 14.7388L15.858 4.0123L16.0008 4.15513L5.27483 16.0469ZM2.62118 6.86816L4.07541 7.50098L4.68186 8.9541C4.71163 9.01396 4.7902 9.06238 4.85697 9.06238C4.8572 9.06238 4.85674 9.06238 4.85697 9.06238C4.92356 9.03613 5.00149 9.0127 5.03108 8.9541L5.63811 7.5001L7.09182 6.89336C7.15109 6.86383 7.19963 6.78552 7.19996 6.71913C7.17444 6.65137 7.151 6.57227 7.09241 6.54297L5.64514 5.93945L5.63342 5.92773L5.03108 4.4834C5.00149 4.42363 4.92356 4.37559 4.85706 4.375C4.85683 4.375 4.85728 4.375 4.85706 4.375C4.79029 4.375 4.71157 4.42331 4.68183 4.48316L4.07541 5.93652L2.62118 6.54297C2.5617 6.5752 2.51331 6.65137 2.51331 6.71875C2.51331 6.78613 2.5617 6.8623 2.62118 6.86816ZM17.4869 13.2812C17.4868 13.2147 17.4384 13.1362 17.3789 13.1065L15.9267 12.5009L15.3182 11.0457C15.3131 10.9873 15.2369 10.9375 15.1696 10.9375C15.1027 10.9375 15.0246 10.9859 14.9948 11.0458L14.3884 12.4998L12.9341 13.1065C12.8747 13.1363 12.8262 13.2144 12.8261 13.281C12.8262 13.3473 12.8748 13.4261 12.9341 13.4558L14.3863 14.0613L14.9948 15.5165C15.026 15.5752 15.1022 15.625 15.1696 15.625C15.2363 15.625 15.3144 15.5765 15.3442 15.5166L15.9503 14.0626L17.4049 13.4559C17.4635 13.4248 17.4869 13.3486 17.4869 13.2812ZM8.58069 4.375L8.94456 5.24746C8.98791 5.2835 9.03479 5.3125 9.04944 5.3125C9.06409 5.3125 9.1363 5.28343 9.15417 5.24749L9.51819 4.375L10.3906 4.01113C10.4264 3.99328 10.4555 3.94612 10.4555 3.90631C10.4555 3.86626 10.4264 3.81933 10.3906 3.80148L9.51819 3.4375L9.18127 2.56501C9.13733 2.52907 9.11682 2.5 9.04944 2.5C8.98206 2.5 8.98791 2.52907 8.97034 2.56501L8.58069 3.4375L7.73401 3.80137C7.67248 3.81924 7.66956 3.86611 7.66956 3.90625C7.66956 3.94606 7.69864 3.99323 7.7343 4.01107L8.58069 4.375Z"
                fill="inherit"
              />
            </svg>
          </button>
          <!-- <button
          class="w-8 h-full pl-2 pr-2 rounded theme-button hacker"
          @click="$colorMode.preference = 'hacker'"
          :class="{ 'active text-black dark:text-white': $colorMode.preference === 'hacker' }"
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="fill-current"
          >
            <path
              d="M11.0156 9.0625H14.2969C14.6865 9.0625 15 8.74902 15 8.35938C15 7.96973 14.6865 7.65625 14.2969 7.65625H13.3594V3.20312C13.3594 2.99623 13.2687 2.80029 13.1104 2.6667C12.9529 2.53305 12.7433 2.47627 12.5408 2.5097L11.1346 2.74407C10.7511 2.80771 10.4927 3.17034 10.556 3.55325C10.6201 3.93646 10.9898 4.1928 11.3651 4.13099L11.9531 4.03311V7.65625H11.0156C10.6289 7.65625 10.3125 7.97266 10.3125 8.35938C10.3125 8.74609 10.6289 9.0625 11.0156 9.0625ZM7.73438 16.0938H6.79688V11.6406C6.79688 11.4337 6.70623 11.2378 6.54785 11.1042C6.39141 10.9697 6.18164 10.9141 5.97832 10.9463L4.57207 11.1807C4.18857 11.2451 3.93035 11.6084 3.99354 11.9658C4.05765 12.3484 4.42743 12.6071 4.80272 12.5436L5.39062 12.4697V16.0938H4.45312C4.06494 16.0938 3.75 16.4102 3.75 16.7969C3.75 17.1836 4.06494 17.5 4.45312 17.5H7.73438C8.12402 17.5 8.4375 17.1865 8.4375 16.7969C8.4375 16.4072 8.12402 16.0938 7.73438 16.0938ZM12.8906 10.9375H11.4844C10.3213 10.9375 9.375 11.8838 9.375 13.0469V15.3906C9.375 16.5537 10.3216 17.5 11.4844 17.5H12.8906C14.0534 17.5 15 16.5537 15 15.3906V13.0469C15 11.8838 14.0537 10.9375 12.8906 10.9375ZM13.5938 15.3906C13.5938 15.7782 13.2779 16.0938 12.8906 16.0938H11.4844C11.0971 16.0938 10.7812 15.7782 10.7812 15.3906V13.0469C10.7812 12.6593 11.0971 12.3438 11.4844 12.3438H12.8906C13.2779 12.3438 13.5938 12.6593 13.5938 13.0469V15.3906ZM9.375 4.60938C9.375 3.44629 8.42871 2.5 7.26562 2.5H5.85938C4.69658 2.5 3.75 3.44629 3.75 4.60938V6.95312C3.75 8.11621 4.69658 9.0625 5.85938 9.0625H7.26562C8.42871 9.0625 9.375 8.11621 9.375 6.95312V4.60938ZM7.96875 6.95312C7.96875 7.34072 7.65293 7.65625 7.26562 7.65625H5.85938C5.47207 7.65625 5.15625 7.33984 5.15625 6.95312V4.60938C5.15625 4.22178 5.47207 3.90625 5.85938 3.90625H7.26562C7.65293 3.90625 7.96875 4.22178 7.96875 4.60938V6.95312Z"
              fill="inherit"
            />
          </svg>
        </button> -->
        </div>
      </div>
    </div>
  </main>
</template>

<script>
export default {
  props: {
    header: {
      type: Boolean,
      default: true,
    },
    nav: {
      type: Boolean,
      default: true,
    },
    subnav: {
      type: Boolean,
      default: false,
    },
  },
};
</script>

<style lang="scss">
.app-container {
  width: 100vw;
  grid-template-columns: 1.5fr 2.5fr 8fr;
  grid-template-rows: 1fr 2em;
  gap: 1px 1px;
  grid-auto-flow: row;

  &.two {
    grid-template-areas:
      "app-nav app-content app-content"
      "app-header app-header app-header";
  }

  &.three {
    grid-template-areas:
      "app-nav app-subnav app-content"
      "app-header app-header app-header";
  }
}

.app-header {
  grid-area: app-header;
}

.app-nav {
  grid-area: app-nav;
}

.app-subnav {
  grid-area: app-subnav;
}
</style>
