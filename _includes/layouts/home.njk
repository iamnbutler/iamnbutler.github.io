---
layout: layouts/base.njk
section: home
---
<section class="site-content" id="home">

  <section class="home-featured">
    {% set postslist = collections.post %}
    <div class="home-feature-list">

      {% for post in postslist | reverse | limit(4) %}
      <a href="{{ post.url | url }}" class="layout-tile">
        
        <!-- TODO: Do something smarter here -->
        {% if post.data.thumbnail %}
        <div class="thumbnail">
          <div class="thumbnail-regular">
            <img src="{{ post.data.thumbnail_url }}" alt="Image Placeholder">
          </div>
          <div class="thumbnail-wide">
            <img src="{{ post.data.thumbnail_wide_url }}" alt="Image Placeholder">
          </div>
        </div>
        {% endif %}
        
        <div class="post-preview">
          <div class="preview-content">
              <h3 class="layout-space">
                {% if post.data.title %}
                  {{ post.data.title }}
                {% else %}
                  Untitled
                {% endif %}
              </h3>
              <p class="layout-space subtitle"> {{ post.data.subtitle }}</p>
              <p class="preview-summary layout-space-large"> {{ post.data.summary }}</p>
          </div>
          
          <div class="post-preview-meta">
            <div class="post-tag">
              {% if post.data.tags %}
                <p class="text-capitalize">
                  {% for tag in post.data.tags %}
                    {%- if tag != "post" -%}
                      {% set tagUrl %}/tags/{{ tag }}/{% endset %}
                      {{ tag }}
                    {%- endif -%}
                  {% endfor %}
                </p>
              {% endif %}
            </div>
            <div class="post-date date-MY">
              <time datetime="{{ post.date | machineDate }}">
                {{ post.date | readableDate }}
              </time>
            </div>
          </div>
        </div>        
        
      </a>
      {% endfor %}

    </div>
  </section>

  <section class="layout-card home-posts">
    {% set postslist = collections.post %}
    {% include "components/post-layout-list.njk" %}
  </section>

  <section class="layout-card home-about">
    {{ layoutContent | safe }}
  </section>

  <section class="layout-card home-work">
    {% include "components/partials/work-list.njk" %}
  </section>

  <section class="layout-card home-elsewhere">
    {% include "components/partials/social-list.njk" %}
  </section>

  <section class="layout-card home-mentions">
    {% include "components/partials/media-list.njk" %}
  </section>

</section>
